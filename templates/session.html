{% extends "layout" %} {% block content %}
<script type="module" src="/assets/js/session.js"></script>
<div class="grid gap-12 w-full max-w-screen-lg mx-auto">
  <div class="flex justify-between items-center">
    <h1 class="text-4xl font-black text-white">Session</h1>
    <button
      id="next_story"
      class="bg-white rounded-md py-2 px-4 text-xl text-slate-900"
    >
      Next Story
    </button>
  </div>
  <div>
    <h2 class="text-xl font-medium text-white">Members</h2>
    <ul
      role="list"
      class="mt-3 grid grid-cols-1 gap-5 sm:grid-cols-2 sm:gap-6 lg:grid-cols-4"
      id="user_list_container"
    >
      <!-- JS HYDATION -->
    </ul>
  </div>
</div>

<div
  class="hidden absolute inset-0 backdrop-blur flex items-center justify-center"
  id="form_modal"
>
  <form class="mt-10 sm:w-full sm:max-w-sm space-y-6" id="edit_user_form">
    <div>
      <label
        for="display_name"
        class="block text-sm font-medium leading-6 text-gray-900"
        >Display Name</label
      >
      <div class="mt-2">
        <input
          id="display_name"
          type="text"
          name="display_name"
          required
          class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"
        />
      </div>
    </div>
    <div>
      <button
        id="edit_user_submit"
        type="button"
        class="flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
      >
        Update
      </button>
    </div>
  </form>
</div>

<template id="user_node_template">
  <li class="col-span-1 flex rounded-md shadow-sm">
    <div
      class="p-6 flex flex-shrink-0 items-center justify-center rounded-l-md text-sm font-medium"
      id="user_name"
    ></div>
    <div
      class="p-6 flex flex-1 items-center justify-between truncate rounded-r-md border-b border-r border-t border-gray-200 bg-white"
    >
      <p
        class="font-medium text-gray-900 hover:text-gray-600"
        id="user_vote_display"
      ></p>
    </div>
  </li>
</template>

<div
  class="hidden absolute inset-0 backdrop-blur flex items-center justify-center"
  id="vote_modal"
>
  <div class="w-full max-w-sm bg-white shadow sm:rounded-lg">
    <div class="px-4 py-5 sm:p-6">
      <h4 class="font-bold text-2xl">Vote</h4>
      <section class="grid grid-cols-1 gap-4 sm:grid-cols-2 mt-4">
        {% for card in cards %}
        <button
          class="relative flex items-center justify-center space-x-3 rounded-lg border border-gray-300 bg-white px-6 py-5 shadow-sm focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:border-gray-400 focus:outline-none text-xl"
          id="poker_card_{{ card }}"
        >
          {{ card }}
        </button>
        {% endfor %}
      </section>
    </div>
  </div>
</div>

{% endblock %}
